---
import { Image, Picture } from "@astrojs/image/components";
import "../styles/global.scss";
const { frontmatter, url } = Astro.props;
const { category,slug, title, description, note, date, image } = frontmatter;
---

<a href={`/posts/${slug}`} class=" h-1/3">
  <article class=`${note}-global bg-green-800 flex flex-col max-w-full justify-center  border-slate-900 rounded-2xl border-2 shadow-2xl card transform hover:rotate-180  transition-transform duration-300`>
    <div class="front relative">
      <Image
        src={image.src}
        alt={image.alt}
        width={200}
        aspectRatio="1:1"
        format="avif"
        quality={100}
        fit="cover"
        class="grow rounded-2xl"
      />
    </div>

    <!-- back of the card -->
    <div class=`back flex f-grow flex-col justify-between bg-slate-600 bg-opacity-75  text-${note}1 rounded-2xl p-0 m-0 hidden rotate-180`>
      <Image
        src={image.src}
        alt={image.alt}
        width={200}
        aspectRatio="1:1"
        format="avif"
        quality={100}
        fit="cover"
        class="grow rounded-2xl"
      />
      <div class="absolute inset-0 flex items-center justify-center" style="background: radial-gradient(circle, rgba(0,0,0,100) 0%, rgba(0,0,0,0) 100%);">
        <h2 class="text-xl md:text-2xl font-bold text-center">{title}</h2>
      </div>
    </div>
  </article>
</a>

<script>
  // Get all card elements using querySelectorAll
  const cards = document.querySelectorAll(".card");

  // Iterate through each card element
  cards.forEach((card) => {
    // Add event listener to each card
    card.addEventListener("mouseenter", function () {
      card.querySelector(".front").classList.add("hidden");
      card.querySelector(".back").classList.remove("hidden");
    });


    card.addEventListener("mouseleave", function () {
      card.querySelector(".back").classList.add("hidden");
      card.querySelector(".front").classList.remove("hidden");
    });
  });
</script>

