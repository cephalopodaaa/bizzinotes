---
import { Image, Picture } from "@astrojs/image/components";
import "../styles/global.scss";
const { frontmatter, url } = Astro.props;
const { category, title, description, note, date, image } = frontmatter;
---

<!-- <style>
,
  .card > .back {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    align-items: center;
    align-items: center;
    align-items: center;
    align-items:center;
    border-radius: 2xl;
  }
</style> -->

<article class=`flex flex-col justify-center font-${note} text-white m-4 w-1/3 border-slate-900 rounded-2xl border-2 shadow-2xl card transform hover:rotate-180  transition-transform duration-300`>
  <div class="front relative">
    <a href={url} class="flex justify-center">
      <Image
        src={image.src}
        alt={image.alt}
        width={200}
        aspectRatio="1:1"
        format="avif"
        quality={100}
        fit="cover"
        class="grow rounded-2xl"
      />
    </a>
    <div class="absolute bottom-0 left-0 right-0 top-0 p-3 bg-slate-600 bg-opacity-75 rounded-lg ">
      <a href={url}><h1 class="text-lg text-center font-bold mb-2 text-white">{title}</h1></a>
      <!-- <a href={`/the-medium/${category}`}>{category}</a> -->
      <a href={`/the-notes/${note}`}>more by <span class=`text-${note}1`> {note}</span></a>
      <!-- <p>posted: {date}</p> -->
    </div>
  </div>


  <!-- back of the card -->
  <div class=`back flex f-grows border-slate-900 rounded-2xl border-2 hidden rotate-180`>
    <a href={url}>
      <Image
        src={image.src}
        alt={image.alt}
        width={200}
        aspectRatio="1:1"
        format="avif"
        quality={100}
        fit="cover"
        class="grow rounded-2xl"
      />
    </a>
  </div>
</article>

<script>
  // Get all card elements using querySelectorAll
  const cards = document.querySelectorAll(".card");

  // Iterate through each card element
  cards.forEach((card) => {
    // Add event listener to each card
    card.addEventListener("mouseenter", function () {
      card.querySelector(".front").classList.add("hidden");
      card.querySelector(".back").classList.remove("hidden");
    });


    card.addEventListener("mouseleave", function () {
      card.querySelector(".back").classList.add("hidden");
      card.querySelector(".front").classList.remove("hidden");
    });
  });
</script>

